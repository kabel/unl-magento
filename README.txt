== INSTALLATION ==

!!WARNING!!
The 1.3 branch of magento is NOT compatible with PHP 5.3 and there are some security issues with the JavaScript proxy and symlinks.
A patch ( data/magento1.3.patch ) has been included to run in the magento project space to correct these various issues.

    cd /path/to/magento
    patch -p0 < /path/to/unl-magento/data/magento1.3.patch

The UNL extensions for magento are handled through a repository of directories and files that need to be symlinked in the magento directory structure.
For reference the two SVN projects are hosted at the following locations:
[magento] : http://svn.magentocommerce.com/source/branches/1.3
[unl-magento] : http://its-gforge.unl.edu/svn/unl-magento

cd /path/to/magento
ln -s /path/to/unl-magento/app/code/local/Unl app/code/local/Unl
ln -s /path/to/unl-magento/app/code/local/Varien app/code/local/Varien
ln -s /path/to/unl-magento/app/etc/modules/Unl_All.xml app/etc/modules/Unl_All.xml
ln -s /path/to/unl-magento/skin/frontend/unl skin/frontend/unl
ln -s /path/to/unl-magento/app/design/frontend/unl app/design/frontend/unl
ln -s /path/to/unl-magento/app/design/adminhtml/default/unl/ app/design/adminhtml/default/unl
ln -s /path/to/unl-magento/js/tiny_mce js/tiny_mce
ln -s /path/to/unl-magento/lib/SimpleCAS lib/SimpleCAS
ln -s /path/to/unl-magento/lib/SimpleCAS.php lib/SimpleCAS.php
ln -s /path/to/unl-magento/lib/UNL lib/UNL

ln -s /path/to/unl-magento/app/etc/modules/Zenprint_Xajax.xml app/etc/modules/
ln -s /path/to/unl-magento/app/etc/modules/Zenprint_Ordership.xml app/etc/modules/
ln -s /path/to/unl-magento/app/code/community/Zenprint app/etc/code/community/
ln -s /path/to/unl-magento/js/xajax_js js/
ln -s /path/to/unl-magento/lib/Xajax lib/

For the "online" install to run, you must
    chmod a+w app/etc
    chmod -R a+w var/
    chmod -R a+w media/
    
Once installation is complete you can remove write permissions from app/etc
    chmod o-w app/etc
    
After "online" installation, there are a couple of MySQL data imports that need to occur (separated for install speed)
NOTE: These MySQL queries/scripts will take A WHILE to run as they insert around half a million records. Be patient!

cd /path/to/unl-magento/data/tax

* Unzip NEB012010.txt.zip
* Login to mysql client and use the magento database

LOAD DATA LOCAL INFILE 'NEB012010.txt'
INTO TABLE `unl_tax_boundary`
FIELDS TERMINATED BY ',';

TRUNCATE TABLE `tax_calculation_rate`;

LOAD DATA LOCAL INFILE 'allRates.csv'
REPLACE INTO TABLE `tax_calculation_rate`
FIELDS TERMINATED BY ',' ENCLOSED BY '"'
(`code`, `tax_country_id`, `tax_region_id`, `tax_postcode`, `rate`);

SOURCE MageTaxSetup.sql;



== CONFIGURATION ==

From the Admin interface, the following configuration settings should be set to ensure proper template layout.
In the navigation go to System > Configuration

General > Design (left tab)
    Package:
        Current Package Name: unl
    HTML Head:
        Default Title: UNL | Storefront
        Title Prefix: UNL | Storefront |
        Default Keywords: E-commerce
    Footer:
        Copyright: &copy; 2010 University of Nebraska&ndash;Lincoln | Lincoln, NE 68588 | 402-472-7211 | <a href="http://www.unl.edu/ucomm/aboutunl/" title="Click here to know more about UNL">About UNL</a> | <a href="http://www1.unl.edu/comments/" title="Click here to direct your comments and questions">comments?</a>

General > Store Email Addresses
    General contact
        Sender email: storefront@unl.edu
    Sales representative
        Sender email: storefront@unl.edu
    Customer Support:
        Sender email: storefront@unl.edu
        
General > Contacts
    Email Options:
        Send Emails To: storefront@unl.edu

Catalog > Catalog
    Search Engine Optimizations:
        Popular search terms: Disable
        Autogenerated site map: Disable
        Category URL Suffix:
        Page Title Separator:  | 

Catalog > RSS Feeds
    Rss Config:
        Enable RSS: Enable
    Wishlist:
        Enable RSS: Enable
    Catalog:
        New Products: Enable
        Top Level Category: Enable
    Order:
        Customer Order Status Notification: Enable
        
Customers > Customer Configuration
    Account Sharing Options:
        Share Customer Accounts: Global

Sales > Sales
    Gift Messages:
        Allow Gift Messages for Order Items: Yes

Sales > Tax
    Calculation:
        Apply Tax After Discount: Yes

Sales > Shipping Settings
    Origin:
        Region/State: Nebraska
        ZIP/Postal Code: 68503

Sales > Shipping Methods
    * Configure each carrier per the business requirements (requires API credentials)
    * Disable unused carriers

Sales > Payment Methods
    * Configure each provider per the business requirement (requires API credentials)
    * Disable unused providers
    * PayPal options may also require setting up Sales > PayPal Accounts config



== HELP ==

For help on general design and configuration refer to the documentation provided by Varien at http://www.magentocommerce.com/

A listing of the events that handlers can be written for is in file data/dispatcheventlist.xls. It may not be up to date with the current version of Magento.